---
title: "DATA205 EDA"
output: html_document
---

## Load data
### Read in two dataMontgomery datasets: "Moderately Priced Dwelling Units" and "Housing Licensing and Registration"
### Install necessary packages for data cleaning, wrangling, and visualizing: tidyverse and ggplot2.

```{r}
MPDU <- read.csv("https://data.montgomerycountymd.gov/api/views/pbh5-g4e5/rows.csv?accessType=DOWNLOAD")
HLR <- read.csv("https://data.montgomerycountymd.gov/api/views/et5s-xste/rows.csv?accessType=DOWNLOAD")
install.packages("tidyverse")
install.packages("ggplot2")
library("tidyverse")
library("ggplot2")
```


## Look at the structure of the MPDU dataset.

```{r}
str(MPDU)
```

### Look at the head and tail of the MPDU dataset.

```{r}
head(MPDU)
tail(MPDU)
```

### Create new versions of the datasets without NAs.

```{r}
MPDU2 <- drop_na(MPDU)
HLR2 <- drop_na(HLR)
```


### Take a look at the summary of the MPDU dataset.

```{r}
summary(MPDU)
```


### Look at the structure, head, and tail of the HLR dataset.

```{r}
str(HLR)
head(HLR)
tail(HLR)
```




### Take a look at the summary of the HLR dataset.

```{r}
summary(HLR)
```


## Create a new data frame for the MPDU dataset showing just Total Units and Total MPDU, grouped by Planning Area.

```{r}
MPDU$Total.Units <- as.numeric(MPDU$Total.Units)
MPDU$Total.MPDU <- as.numeric(MPDU$Total.MPDU)
MPDU3 <- MPDU %>% 
select(Planning.Area, Total.Units, Total.MPDU) %>%
group_by(Planning.Area)
MPDU3
```

### Drop the NAs from this new data frame.

```{r}
MPDU4 <- drop_na(MPDU3)
```

### Create a new dataframe showing the sums of Total Unit and Total MPDU columns grouped by Planning Area.

```{r}
MPDU5 <- MPDU4 %>% 
    summarize_if(is.numeric, sum)
MPDU5
```

### Create a new data frame with variables of interest from the HLR dataset: Ownership Type, Property City, Structure Type, Unit Count, and License Type.

```{r}
HLR3 <- HLR %>% 
select(Ownership.Type, Property.City, Structure.Type, Unit.Count, License.Type) %>%
group_by(Property.City)
HLR3
```


## Read in Students Receiving Special Services 2019 dataset.

```{r}
url2 <- "https://reportcard.msde.maryland.gov/DataDownloads/FileDownload/378"
download.file(url2, "Special_Services_2019.zip")
unzip("Special_Services_2019.zip")
SS19 <- read.csv("Special_Services_2019.csv")
```

## Read in Students Receiving Special Services 2018 dataset.

```{r}
url5 <- "https://reportcard.msde.maryland.gov/DataDownloads/FileDownload/341"
download.file(url5, "Special_Services_2018.zip")
unzip("Special_Services_2018.zip")
SS18 <- read.csv("Special_Services_2018.csv")
```


## Read in Students Receiving Special Services 2017 dataset.

```{r}
url6 <- "https://reportcard.msde.maryland.gov/DataDownloads/FileDownload/322"
download.file(url6, "Special_Services_2017.zip")
unzip("Special_Services_2017.zip")
SS17 <- read.csv("Special_Services_2017.csv")
```


## Read in Students Receiving Special Services 2016 dataset.

```{r}
url7 <- "https://reportcard.msde.maryland.gov/DataDownloads/FileDownload/298"
download.file(url7, "Special_Services_2016.zip")
unzip("Special_Services_2016.zip")
SS16 <- read.csv("Special_Services_2016.csv")
```


## Read in Students Receiving Special Services 2015 dataset.

```{r}
url8 <- "https://reportcard.msde.maryland.gov/DataDownloads/FileDownload/258"
download.file(url8, "Special_Services_2015.zip")
unzip("Special_Services_2015.zip")
SS15 <- read.csv("Special_Services_2015.csv")
```


## Read in Cohort Graduation Rates 2019 dataset.

```{r}
url3 <- "https://reportcard.msde.maryland.gov/DataDownloads/FileDownload/390"
download.file(url3, "Cohort_Graduation_and_Dropout_Rates_2019.zip")
unzip("Cohort_Graduation_and_Dropout_Rates_2019.zip")
Grad19 <- read.csv("Cohort_Grad_Rate_2019.csv")
```

## Read in Low-Income Housing Tax Credit dataset.

```{r}
url4 <- "https://lihtc.huduser.gov/lihtcpub.zip"
download.file(url4, "lihtcpub.zip")
unzip("lihtcpub.zip")
LIHTC <- read.csv("LIHTCPUB.csv")
```

